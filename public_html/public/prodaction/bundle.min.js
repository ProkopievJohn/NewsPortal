function Helper(){}function App(){this.init()}function Category(t){"use strict";t&&(this.categoryEl=t,this.categoryStatus=!0,this.categoryNumber=0,this.categoryEL())}function CategoryMulti(t,e){"use strict";t&&e&&(this.catMultiEl=t,this.catMultiID=e.getAttribute("data-id"),this.catMultiCount=e.getAttribute("data-count"),this.catMultiStatus=!0,this.catMultiMasonry=!1,this.catMultiInit())}function CategorySingle(t,e){"use strict";t&&e&&(this.catSinEl=t,this.catSinID=e.getAttribute("data-id"),this.catSinCount=e.getAttribute("data-count"),this.catSinStatus=!0,this.catSinInit())}function Currency(t){"use strict";t&&(this.currencyEl=t,this.currencyBanksUrl=["Альфа-Банк","ПриватБанк","ПУМБ","Укрсоцбанк","Райффайзен Банк Аваль"],this.currencyResponsObj=[],this.currencyInit())}function Fb(t){"use strict";t&&(this.fbEl=t,this.fbInit())}function Iframe(t){"use strict";if(t){var e=this.loadIframe_template(t.getAttribute("data-src"));t.insertAdjacentHTML("beforeend",e)}}function Menu(t){"use strict";t&&(this.menuEl=t,this.menuElBlock=t.querySelector(".val-menu-block"),this.menulTime=500,this.menuStatus=!0,this.menuAddEL())}function Modal(t){"use strict";t&&(this.modalEl=t,this.modalBlock=document.querySelector(".val-modal-login-reg-outer"),this.modalRegistration=this.modalBlock.querySelector(".-reg-modal"),this.modalLogin=this.modalBlock.querySelector(".-login-modal"),this.modalAbout=this.modalBlock.querySelector(".-about-modal"),this.modalTime=500,this.modalInit())}function Slider(t){"use strict";t&&(this.sliderEl=t,this.slider=t.querySelector(".val-list-slider"),this.sliderItems=t.querySelectorAll(".val-list-slider-item"),this.sliderControl=t.querySelector(".val-display-controls"),this.sliderCreateSpansAndAddDataAtribute(),this.sliderAddEL(),this.sliderAuto())}function Sticky(t){"use strict";t&&(this.stickyEl=t,this.stickyElPositionTop=t.offsetTop,this.stickyElPositionLeft=t.offsetLeft,this.stickyEL())}function Weather(t){"use strict";t&&(this.weatherEl=t,this.weatherUrl="https://query.yahooapis.com/v1/public/yql?q=select%20item%20from%20weather.forecast%20where%20woeid%3D918233%20and%20u%3D%22c%22&format=json&l=ru",this.weatherInit())}Helper.prototype.getDate=function(t,e){"use strict";var s=this.getDate_Date(),i=this.getDate_Date(t),a="";return a+=s.datesValue==i.datesValue?s.dates.getHours()+":"+s.dates.getMinutes():i.dates.getDate()+" "+this.mounthObject[e][i.dates.getMonth()+1]+" "+i.dates.getFullYear()},Helper.prototype.getDate_Date=function(t){"use strict";var e=t?new Date(t):new Date,s=new Date(e.getFullYear(),e.getMonth(),e.getDate()).valueOf();return{dates:e,datesValue:s}},Helper.prototype.XMLLoad=function(t,e,s,i){"use strict";var a=new XMLHttpRequest;a.addEventListener("readystatechange",function(){4==a.readyState&&200==a.status&&s(a.responseText,i)}),a.open(t,e,!0),a.send()},Helper.prototype.searchInArray=function(t,e,s,i){"use strict";for(var a in t)a==e?s(t[a],i):"object"==typeof t[a]&&Object.keys(t[a]).length>0&&i.searchInArray(t[a],e,s,i)},Helper.prototype.fade=function(t,e,s){"use strict";var e="up"===s?0:e;t.style.cssText+="up"===s?"display: block;":"opacity: 0;",setTimeout(function(){t.style.cssText+="up"===s?" opacity: 1;":"display:none;"},e)},Helper.prototype.mounthObject={ru:{1:"Января",2:"Февраля",3:"Марта",4:"Апреля",5:"Мая",6:"Июня",7:"Июля",8:"Августа",9:"Сентября",10:"Октября",11:"Ноября",12:"Декабря"},uk:{1:"Січня",2:"Лютого",3:"Березня",4:"Квітня",5:"Травня",6:"Червня",7:"Липня",8:"Серпня",9:"Вересня",10:"Жовтня",11:"Листопада",12:"Грудня"}},Helper.prototype.weatherDescription={0:"Торнадо",1:"Тропічний шторм",2:"Ураган",3:"Сильні грози",4:"Грози",5:"Змішаний дощ зi снігом",6:"Змішаний дощ зi снігом",7:"Змішаний дощ зi снігом",8:"Паморозь",9:"Мряка",10:"Град",11:"Зливи",12:"Зливи",13:"Сніговi пориви",14:"Легкий сніг",15:"Хуртовина",16:"Снiг",17:"Град",18:"Дощ зі снігом",19:"Туманно",20:"Туманно",21:"Туманно",22:"Туманно",23:"Вітрянно",24:"Вітрянно",25:"Прохолодно",26:"Хмарно",27:"Переважно хмарно",28:"Переважно хмарно",29:"Мінлива хмарність",30:"Мінлива хмарність",31:"Ясно",32:"Сонячно",33:"Ясно",34:"Ясно",35:"Змішаний дощ з градом",36:"Спекотно",37:"Грози",38:"Розсіяні грози",39:"Розсіяні грози",40:"Мінлива хмарність",41:"Сильний снігопад",42:"Снігопад",43:"Сильний снігопад",44:"Мінлива хмарність",45:"Зливи",46:"Зливовий сніг",47:"Зливи"},Helper.prototype.weatherDays={Mon:"Понедiлок",Tue:"Вiвторок",Wed:"Середа",Thu:"Четвер",Fri:"П`ятниця",Sat:"Субота",Sun:"Недiля"},App.prototype=Object.create(Helper.prototype),App.prototype.init=function(){new Iframe(document.querySelector(".val-iframe-streams")),new Slider(document.querySelector(".val-slider-general-news")),new Weather(document.querySelector(".outer-for-weather")),new Currency(document.querySelector(".-currency-val")),new Category(document.querySelector(".val-full-width-category")),new CategorySingle(document.querySelector("#val-single-category"),document.querySelector("#val-count-and-id")),new Modal(document.querySelector(".val-header")),new Menu(document.querySelector(".val-button-menu"))},window.addEventListener("DOMContentLoaded",function(){new App}),Category.prototype=Object.create(App.prototype),Category.prototype.categoryEL=function(){"use strict";window.addEventListener("scroll",this.categoryWinEL.bind(this))},Category.prototype.categoryWinEL=function(){"use strict";if(this.categoryStatus!==!1){var t=document.body.scrollHeight-window.scrollY;if(t<1e3){if(this.categoryStatus=!1,this.categoryNumber=6===this.categoryNumber?this.categoryNumber+2:this.categoryNumber+1,this.categoryNumber>9)return;this.categoryXML(this.categoryNumber)}}},Category.prototype.categoryXML=function(t){"use strict";var e="http://"+location.hostname+"/site/GetCategory?id="+t;this.XMLLoad("GET",e,this.categoryJSONPars,this)},Category.prototype.categoryJSONPars=function(t,e){"use strict";var s=JSON.parse(t),i=JSON.parse(s.category),a=JSON.parse(s.news);e.currencyCreateElement(a,i,s.language,e)},Category.prototype.currencyCreateElement=function(t,e,s,i){"use strict";for(var a="",r="",o=0;o<t.length;o++)a+=0===o?'<a href="/site/news/'+t[o].id+'" class="val-news-item-category val-category-image"><div class="val-item-outer-category-image"><img src="/uploads/news/thumb/'+t[o].image+'" alt=" + arrays[title_ + lang] + "></div><div class="val-line-vews-data"><span class="val-content-news-data">'+i.getDate(t[o].date,s)+'</span><span class="val-news-view">'+t[o].views+'</span></div><h2 class="val-title-news-category">'+t[o]["title_"+s]+"</h2></a>":'<a href="/site/news/'+t[o].id+'" class="val-news-item-category val-category-image"><div class="val-line-vews-data"><span class="val-content-news-data">'+i.getDate(t[o].date,s)+'</span><span class="val-news-view">'+t[o].views+'</span></div><h2 class="val-title-news-category">'+t[o]["title_"+s]+'</h2><p class="val-description-news-category">'+t[o]["description_"+s].substring(0,250)+"</p></a>";var r='<div class="val-category-block"><h2 class="val-title-uppercase-with-line">'+e[0]["name_"+s]+'</h2><div class="val-news-list-category">'+a+"</div></div>";i.categoryEl.insertAdjacentHTML("beforeend",r),i.categoryStatus=!0},CategoryMulti.prototype=Object.create(App.prototype),CategoryMulti.prototype.catMultiInit=function(){"use strict";this.catMultiEl.classList.add("grid"),this.catMultiXML(),this.catMultiEL()},CategoryMulti.prototype.catMultiXML=function(){"use strict";var t="http://"+location.hostname+"/site/GetMultimedia?offset="+this.catMultiCount;this.XMLLoad("GET",t,this.catMultiJSONPars,this),this.catMultiStatus=!1},CategoryMulti.prototype.catMultiEL=function(){"use strict";window.addEventListener("scroll",this.catMultiWinEL.bind(this))},CategoryMulti.prototype.catMultiWinEL=function(){"use strict";if(this.catMultiStatus!==!1){var t=document.body.scrollHeight-window.scrollY;t<2e3&&this.catMultiXML()}},CategoryMulti.prototype.catMultiJSONPars=function(t,e){"use strict";var s=JSON.parse(t),i=JSON.parse(s.multimedia);e.catMultiCreateElement(i,s.language,s.offset,e)},CategoryMulti.prototype.catMultiCreateElement=function(t,e,s,i){"use strict";for(var a=[],r=document.createDocumentFragment(),o=0;o<t.length;o++){var n=("photo"===t[o].type?"/"+e+"/site/photos/"+t[o].id:"/"+e+"/site/video/"+t[o].id,"photo"===t[o].type?"http://val.ua/uploads/galery/category/"+t[o].image:"http://img.youtube.com/vi/"+t[o].image+"/mqdefault.jpg"),c=document.createElement("a"),l='<span class="-val-multimedia-description">'+t[o]["name_"+e]+'</span><div class="val-image-block-multimedia"><img src="'+n+'"></div>';c.className+="val-block-multimedia -val-ico-"+t[o].type,c.insertAdjacentHTML("beforeend",l),r.appendChild(c),a.push(c)}i.catMultiEl.appendChild(r),i.catMultiMasonry===!1?i.catMultiMasonry=new Masonry(i.catMultiEl,{columnWidth:200,itemSelector:".val-block-multimedia"}):i.catMultiMasonry.appended(a),i.catSinCount=15,this.catSinStatus=!0},CategorySingle.prototype=Object.create(App.prototype),CategorySingle.prototype.catSinInit=function(){"use strict";this.catSinXML(),this.catSinEL()},CategorySingle.prototype.catSinXML=function(){"use strict";var t="http://"+location.hostname+"/site/GetCategoryByIdXhrOrNotId?id="+this.catSinID+"&offset="+this.catSinCount;this.XMLLoad("GET",t,this.catSinJSONPars,this),this.catSinStatus=!1},CategorySingle.prototype.catSinEL=function(){"use strict";window.addEventListener("scroll",this.catSinWinEL.bind(this))},CategorySingle.prototype.catSinWinEL=function(){"use strict";if(this.catSinStatus!==!1){var t=document.body.scrollHeight-window.scrollY;t<2e3&&this.catSinXML()}},CategorySingle.prototype.catSinJSONPars=function(t,e){"use strict";var s=JSON.parse(t),i=JSON.parse(s.news);e.catSinCreateElement(i,s.language,s.offset,e)},CategorySingle.prototype.catSinCreateElement=function(t,e,s,i){"use strict";for(var a="",r=0;r<t.length;r++)a+='<a href="/site/news/'+t[r].id+'" class="val-block-gen-news"><div class="val-image-block-gen-news"><img src="/uploads/news/thumb/'+t[r].image+'"></div><div class="val-description-block-gen-news"><span class="val-news-view">'+t[r].views+'</span><span class="val-content-news-data">'+i.getDate(t[r].date,e)+'</span><h3 class="val-content-news-title-small">'+t[r]["title_"+e]+"</h3></div></a>";i.catSinEl.insertAdjacentHTML("beforeend",a),i.catSinCount=s,this.catSinStatus=!0},Currency.prototype=Object.create(App.prototype),Currency.prototype.currencyInit=function(){"use strict";var t="http://"+location.hostname+"/site/tryCurrency";this.XMLLoad("GET",t,this.currencyJSONPars,this)},Currency.prototype.currencyJSONPars=function(t,e){"use strict";for(var s=JSON.parse(t),i=0;i<e.currencyBanksUrl.length;i++)for(var a=0;a<s.length;a++)e.currencyBanksUrl[i]===s[a].bankName&&e.currencyCreateObj(s[a],e);e.currencyCreateElement(e)},Currency.prototype.currencyCreateObj=function(t,e){"use strict";var s=!1;for(var i in e.currencyResponsObj)i===t.bankName&&(s=!0);s===!1?(e.currencyResponsObj[t.bankName]=[],e.currencyResponsObj[t.bankName][t.codeAlpha]={rateBuy:t.rateBuy,rateSale:t.rateSale}):e.currencyResponsObj[t.bankName][t.codeAlpha]={rateBuy:t.rateBuy,rateSale:t.rateSale}},Currency.prototype.currencyCreateElement=function(t){"use strict";var e="";console.log(t.currencyResponsObj),console.log(t.currencyResponsObj instanceof Array);for(var s in t.currencyResponsObj)e+="<tr><td><p><i>"+s+"</i></p></td><td><span><b>&euro;</b></span><span><b>$</b></span><span><b>R</b></span></td><td><span>"+t.currencyResponsObj[s].EUR.rateBuy+"</span><span>"+t.currencyResponsObj[s].USD.rateBuy+"</span><span>"+t.currencyResponsObj[s].RUB.rateBuy+"</span></td><td><span>"+t.currencyResponsObj[s].EUR.rateSale+"</span><span>"+t.currencyResponsObj[s].USD.rateSale+"</span><span>"+t.currencyResponsObj[s].RUB.rateSale+"</span></td></tr>";var i='<table class="-new-currensy"><tr><th><span>Банк</span></th><th><span style="font-size: 18px">&#402;</span></th><th><span>Покупка</span></th><th><span>Продажа</span></th></tr>'+e+"</table>";t.currencyEl.insertAdjacentHTML("beforeend",i)},Fb.prototype=Object.create(App.prototype),Fb.prototype.fbInit=function(){"use strict";if(!this.FbReadCookie("timedie")){this.fb;var t=this;setTimeout(function(){t.fade(t.fbEl,500,"up")},3e3)}},Fb.prototype.FbReadCookie=function(t){"use strict";var e=new RegExp(t+"=([^;]){1,}"),s=e.exec(document.cookie);return!!s&&(s=s[0].split("="),!!s[1]&&s[1])},Iframe.prototype.loadIframe_template=function(t){"use strict";for(var e="",s=t.split(", "),i=0;i<s.length;i++)e+='<div class="val-outer-frame"><span class="val-ico-online"><i>Online</i></span><iframe src="'+s[i]+'" width="100%" height="270px"></iframe></div>';return e},Menu.prototype=Object.create(App.prototype),Menu.prototype.menuAddEL=function(){"use strict";this.menuEl.addEventListener("click",this.menuActive.bind(this))},Menu.prototype.menuActive=function(t){"use strict";if(this.menuStatus!==!1){this.menuStatus=!1;var e=t.target,s=this;(e.classList.contains("val-button-menu")||e.classList.contains("val-main-menu"))&&(this.menuEl.querySelector(".val-main-menu").classList.contains("active")?(this.fade(this.menuElBlock,this.menulTime,""),this.menuElBlock.style.cssText+="left:-50%;"):(this.fade(this.menuElBlock,this.menulTime,"up"),setTimeout(function(){s.menuElBlock.style.cssText+="left: 0;"},0)),this.menuEl.querySelector(".val-main-menu").classList.toggle("active")),setTimeout(function(){s.menuStatus=!0},s.menulTime)}},Modal.prototype=Object.create(App.prototype),Modal.prototype.modalInit=function(){"use strict";var t="-webkit-transition: all "+this.modalTime+"ms ease-in-out;-moz-transition: all "+this.modalTime+"ms ease-in-out;-o-transition: all "+this.modalTime+"ms ease-in-out;transition: all "+this.modalTime+"ms ease-in-out;";this.modalBlock.style.cssText+=t,this.modalRegistration.style.cssText+=t,this.modalLogin.style.cssText+=t,this.modalAbout.style.cssText+=t,this.modalAddEL()},Modal.prototype.modalAddEL=function(){"use strict";this.modalEl.addEventListener("click",this.modalActivBlock.bind(this)),this.modalBlock.addEventListener("click",this.modalActivBlock.bind(this))},Modal.prototype.modalActivBlock=function(t){"use strict";var e=t.target;e.classList.contains("button")&&(this.fade(this.modalBlock,this.modalTime,"up"),e.classList.contains("-login")?this.fade(this.modalLogin,this.modalTime,"up"):e.classList.contains("-registration")&&this.fade(this.modalRegistration,this.modalTime,"up")),e.classList.contains("-about")&&(this.fade(this.modalBlock,this.modalTime,"up"),this.fade(this.modalAbout,this.modalTime,"up")),e.classList.contains("val-close-modals")&&(this.fade(this.modalBlock,this.modalTime,""),this.fade(e.parentNode,this.modalTime,""))},Slider.prototype.sliderCreateSpansAndAddDataAtribute=function(){"use strict";for(var t="",e=0;e<this.sliderItems.length;e++)t+=0===e?'<span data-controls="'+e+'" class="-active-slide"></span>':'<span data-controls="'+e+'"></span>';this.sliderControl.insertAdjacentHTML("beforeend",t),this.slider.style.cssText+="transition: all ease-in-out 800ms;",this.sliderSpansControl=this.sliderControl.querySelectorAll("span")},Slider.prototype.sliderAddEL=function(){"use strict";this.sliderControl.addEventListener("click",this.sliderActiveSpan.bind(this)),this.sliderEl.addEventListener("mouseover",this.sliderAuto.bind(this,"mouseover")),this.sliderEl.addEventListener("mouseout",this.sliderAuto.bind(this))},Slider.prototype.sliderActiveSpan=function(t){"use strict";var e=t.path?t&&t.target||window.event.srcElement:t,s=document.querySelector(".-active-slide");"SPAN"!=e.tagName||e.classList.contains("-active-slide")||(s.classList.remove("-active-slide"),e.classList.add("-active-slide"),this.slider.style.cssText+="transform: translateX("+-this.sliderItems[0].offsetWidth*parseFloat(e.getAttribute("data-controls"))+"px);")},Slider.prototype.sliderAuto=function(t){"use strict";var e=this,s=document.querySelector(".-active-slide").nextElementSibling?document.querySelector(".-active-slide").nextElementSibling:e.sliderSpansControl[0];"mouseover"==t?clearTimeout(e.sliderStartAutoPlay):e.sliderStartAutoPlay=setTimeout(function(){e.sliderActiveSpan(s),e.sliderAuto()},5e3)},Sticky.prototype=Object.create(App.prototype),Sticky.prototype.stickyEL=function(){"use strict";window.addEventListener("scroll",this.stickyStyl.bind(this)),window.addEventListener("resize",this.stickyResize.bind(this))},Sticky.prototype.stickyStyl=function(){"use strict";this.stickyEl.style.cssText=this.stickyElPositionTop-window.scrollY<0?"position:fixed;top:0;left:"+this.stickyEl.offsetLeft+"px;":"position:relative;top:0;left:0;"},Sticky.prototype.stickyResize=function(){"use strict";this.stickyEl.style.cssText="position:relative;top:0;left:0;",this.stickyElPositionTop=this.stickyEl.offsetTop,this.stickyElPositionLeft=this.stickyEl.offsetLeft,this.stickyStyl()},Weather.prototype=Object.create(App.prototype),Weather.prototype.weatherInit=function(){"use strict";this.XMLLoad("GET",this.weatherUrl,this.weatherJSONPars,this)},Weather.prototype.weatherJSONPars=function(t,e){"use strict";var s=JSON.parse(t);e.searchInArray(s,"item",e.weatherItem,e)},Weather.prototype.weatherItem=function(t,e){var s=t.condition,i=t.forecast;e.weatherCreateElement(s,i,e)},Weather.prototype.weatherCreateElement=function(t,e,s){"use strict";var i='<div class="drop-weather-button"><div class="outer-today-ico"><span class="icons-for-c-min icon-weather-min-'+t.code+'"></span><i class="today-weather">'+t.temp+' С°</i></div><div class="drop-wether"><p class="for-genwether"><span class="title-weather">Погода</span><span class="city-weather">Украина, Чернигов</span></p><div class="section-today"><div class="for-weather-icon"><h5 class="section-heading">Сьогодні</h5><span class="icons-for-c icon-weather-'+e[0].code+'"></span></div><div class="weather-detail"><h4 class="weather-heading"><span class="temp-now">'+t.temp+' С°</span><span class="phrase">Температура зараз</span></h4><span class="temperature high-temperature">'+e[0].high+' С°</span>&nbsp; - &nbsp;<span class="temperature low-temperature">'+e[0].low+' С°</span><p class="summary">'+s.weatherDescription[parseFloat(e[0].code)]+'</p></div></div><div class="section-this-week"><h5 class="section-heading">Тиждень</h5><ul class="item-list-temperature">'+s.weatherCreateElementForecast(e,s)+"</ul></div></div></div>";s.weatherEl.insertAdjacentHTML("beforeend",i)},Weather.prototype.weatherCreateElementForecast=function(t,e){"use strict";for(var s="",i=0;i<4;i++)s+='<li class="item-time-temperature"><span class="icons-for-c icon-weather-'+t[i].code+'"></span><span class="day">'+e.weatherDays[t[i].day]+'</span><span class="temperature-days high-temperature">'+t[i].high+' С°</span>&nbsp;-&nbsp;<span class="temperature-days low-temperature">'+t[i].low+" С°</span></li>";return s};